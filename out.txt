// Creates HTML Canvas
var cellSize = 50;
var height = 11;
var width = 10;
var canvas = document.createElement("canvas");
var ctx = canvas.getContext("2d");
canvas.width = cellSize * width;
canvas.height = cellSize * height;
document.body.appendChild(canvas);

var bgImage = new Image();
bgImage.onload = function() {};
bgImage.src = "images/bg.png";

var myPlayerImage = new Image();
myPlayerImage.src = "images/spaceman.png"

/*Object*/
function myPlayer(){
this.moves = 10;
this.moaaa = "test";
this.test = [];
}
var myPlayer = new myPlayer();

var myDogImage = new Image();
myDogImage.src = "images/dog.png"

/*Object*/
function myDog(){
this.moves = 20;
}
var myDog_interact  = function(obj )

//BodyBegins
{
myDog.moves = myDog.moves-1;
obj.moves = obj.moves+1;

}
//BodyEnds
var myDog = new myDog();


//BodyBegins
{
function checksides(target, source)
//BodyBegins
{
if (target.x!=source.x||target.y!=source.y)
//BodyBegins
{
if (target.x>source.x)
//BodyBegins
{
if (target.x!=source.x+1)
//BodyBegins
{
move(source , "right ");
return false;
}
//BodyEnds

}
//BodyEnds
else if (target.x>source.x)
//BodyBegins
{
if (target.x!=source.x-1)
//BodyBegins
{
move(source , "left ");
return false;
}
//BodyEnds

}
//BodyEnds
if (target.y>source.y)
//BodyBegins
{
if (target.y!=source.y+1)
//BodyBegins
{
move(source , "up ");
return false;
}
//BodyEnds

}
//BodyEnds
else if (target.y>source.y)
//BodyBegins
{
if (target.y!=source-1)
//BodyBegins
{
move(source , "down ");
return false;
}
//BodyEnds

}
//BodyEnds
return true;
}
//BodyEnds

}
//BodyEnds
var OneKeyPress = true;

var keysDown = [];

addEventListener("keydown", function (e){
keysDown[e.keyCode] = true;
})
addEventListener("keyup", function (e){
delete keysDown[e.keyCode];
OneKeyPress = true;
})
var update = function()
//BodyBegins
{
if (myPlayer.moves>0&&38 in keysDown && OneKeyPress == true)
//BodyBegins
{
move(myPlayer , "up ");
myPlayer.moves = myPlayer.moves-1;

}
//BodyEnds
if (myPlayer.moves>0&&40 in keysDown && OneKeyPress == true)
//BodyBegins
{
move(myPlayer , "down ");
myPlayer.moves = myPlayer.moves-1;

}
//BodyEnds
if (myPlayer.moves>0&&37 in keysDown && OneKeyPress == true)
//BodyBegins
{
move(myPlayer , "right ");
myPlayer.moves = myPlayer.moves-1;

}
//BodyEnds
if (myPlayer.moves>0&&39 in keysDown && OneKeyPress == true)
//BodyBegins
{
move(myPlayer , "left ");
myPlayer.moves = myPlayer.moves-1;

}
//BodyEnds
if (65 in keysDown && OneKeyPress == true)
//BodyBegins
{
/*Variable*/
var near = true;
near = checksides(myPlayermyDog);
if (near==true)
//BodyBegins
{

//BodyBegins
{
;

}
//BodyEnds

}
//BodyEnds

}
//BodyEnds
var move = function(figur, key) 
{
 if(key == "up")
{
 figur.y =figur.y - 50; 
}
if(key == "down")
{
 figur.y =figur.y + 50; 
}
if(key == "left")
{
 figur.x = figur.x - 50; 
}
if(key == "right")
{
 figur.x = figur.x + 50; 
}

}
var move = function(figur, key) 
{
 if(key == "up")
{
 figur.y =figur.y - 50; 
}
if(key == "down")
{
 figur.y =figur.y + 50; 
}
if(key == "left")
{
 figur.x = figur.x - 50; 
}
if(key == "right")
{
 figur.x = figur.x + 50; 
}

}

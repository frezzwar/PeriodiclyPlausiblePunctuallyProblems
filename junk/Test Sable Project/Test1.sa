new attacks = 5;
new hits = 0;
new critical = 0;
new damage = 0;
new dragonHealth = 100;
new emptyList = [];
new integerList = [10, 15, 30];
new mixedList = [True, 10, 20.10];
new funList = [, True]; /* Do we allow this */

startup(fig:testfig1)
{
	repeat while (dragonHealth > 0)
	{
		repeat (attacks)
		{
			new dice20 = random (1 to 20);
			if (dice20 >= 12 && dice20 <= 18)
			{
				hits += 1;
			}
			else if (dice20 >= 19)
			{
				critical += 1;
			}
		}
		say("You had " hits " hits and " critical " critical hits");
		repeat (hits)
		{
			new dice10 = random (1 to 10);
			damage += dice10;
			attackList.add(dice10);
		}
		repeat (critical)
		{
			new dice10 = random (1 to 10);
			dice10 += 10;
			attackList.add(dice10);
			damage += dice10;		
		}	
		repeat foreach (hit in attackList)
		{
			say("You dealt: " hit " damage.");
		}	
		dragonHealth -= damage;
		if (dragonHealth < 0)
		{
			dragonHealth = 0;
		}	
		think ("You dealt " damage " damage.");
		say ("The dragon has " dragonHealth "Health left");	
		switch (dragonHealth)
		{
			case(75 to 100) 
			{
				say("Puny human you will never defeat me!");
			}
			case(50 to 74)
			{
				say("You put up a fight, but it will not matter!");
			}
			case(25 to 49)
			{
				say("You are tougher than you look");
			}
			case(1 to 24)
			{
				say("This is impossible, no human can defeat me! :'(");
			}
			case(0)
			{
				say("The dragon falls to the ground, it is dead");
			}
		}
	}
}
new attacks = 5;
new hits = 0;
new critical = 0;
new damage = 0;
new dragonHealth = 100;
new attackList = [];

testevent{

repeat while (dragonHealth > 0)
{
	repeat (attacks)
	{
		new dice20 = random (1 to 20);
		if (dice20 >= 12 && dice20 <= 18)
		{
			hits += 1;
		}
		else if (dice20 >= 19)
		{
			critical += 1;
		}
	}

	write ("You had " hits " hits and " critical " critical hits");

	repeat (hits)
	{
		new dice10 = random (1 to 10);
		damage += dice10;
		attackList.add(dice10);
	}
	repeat (critical)
	{
		new dice10 = random (1 to 10);
		dice10 += 10;
		attackList.add(dice10);
		damage += dice10;		
	}
	
	repeat foreach (hit in attackList)
	{
		write("You dealt: " hit " damage.");
	}
	
	dragonHealth -= damage;
	if (dragonHealth < 0)
	{
		dragon health = 0;
	}
	
	write ("You dealt " damage " damage.");
	write ("The dragon has " dragonHealth "Health left");
	
	switch (dragonHealth)
	{
		case(75 to 100) 
			write("Puny human you will never defeat me!");
		case(50 to 74)
			write("You put up a fight, but it will not matter!");
		case(25 to 49)
			write("You are tougher than you look");
		case(1 to 24)
			write("This is impossible, no human can defeat me! :'(");
		case(0)
			write("The dragon falls to the ground, it is dead")
	}
}

}

